@import 'tailwindcss';
@plugin "@tailwindcss/typography";
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* 功能色彩 */
  --color-primary: #1890ff;
  --color-primary-dark: #40a9ff;

  --color-success: #52c41a;
  --color-success-dark: #73d13d;

  --color-warning: #faad14;
  --color-warning-dark: #ffd666;

  --color-error: #ff4d4f;
  --color-error-dark: #ff7875;

  /* 浅色模式 - 中性色系 */
  --color-bg-primary: #fcfcfc;
  --color-bg-secondary: #f8f7f6;
  --color-bg-tertiary: #f1f0ef;

  --color-border: #dfdedd;
  --color-border-secondary: #e8e7e6;

  --color-text-primary: #050505;
  --color-text-secondary: #4a4a4a;
  --color-text-tertiary: #676665;
  --color-text-placeholder: #9e9e9e;

  /* 暗色模式 - 中性色系 */
  --color-bg-primary-dark: #0f0f0f;
  --color-bg-secondary-dark: #1c1c1c;
  --color-bg-tertiary-dark: #252525;

  --color-border-dark: #2e2e2e;
  --color-border-secondary-dark: #383838;

  --color-text-primary-dark: #fcfcfc;
  --color-text-secondary-dark: #f9f8f6;
  --color-text-tertiary-dark: #cecdcc;
  --color-text-placeholder-dark: #9e9e9e;

  --color-shadow-light: rgba(0, 0, 0, 0.05);
  --color-shadow-medium: rgba(0, 0, 0, 0.08);
  --color-shadow-dark: rgba(0, 0, 0, 0.12);
}

body {
  @apply bg-[--color-bg-primary] text-[--color-text-primary] transition-colors duration-300;
  /* 防止滚动条出现导致的布局抖动 */
  overflow-y: scroll;
  scrollbar-gutter: stable;
  font-family: 'Roboto', 'Noto Sans SC', sans-serif;
}

.dark body {
  background-color: var(--color-bg-primary-dark);
  color: var(--color-text-primary-dark);
}

::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-border);
  border-radius: 6px;
  border: 3px solid transparent;
  background-clip: content-box;
}

.dark ::-webkit-scrollbar-thumb {
  background-color: var(--color-border-dark);
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-text-tertiary);
  background-clip: content-box;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-text-tertiary-dark);
}

.container {
  @apply max-w-4xl mx-auto px-4 py-8;
}

a {
  @apply text-[--color-text-secondary] hover:text-[--color-text-primary] transition-colors;
}

.dark a {
  color: var(--color-text-secondary-dark);
}

.dark a:hover {
  color: var(--color-text-primary-dark);
}

.prose a {
  color: var(--color-text-secondary);
  text-decoration: underline;
  text-decoration-color: var(--color-border);
  text-underline-offset: 2px;
}

.prose a:hover {
  color: var(--color-text-primary);
  text-decoration-color: var(--color-text-primary);
}

.dark .prose a {
  color: var(--color-text-secondary-dark);
  text-decoration-color: var(--color-border-dark);
}

.dark .prose a:hover {
  color: var(--color-text-primary-dark);
  text-decoration-color: var(--color-text-primary-dark);
}

h1,
h2,
h3,
h4,
h5,
h6 {
  @apply font-bold text-[--color-text-primary];
}

h1 {
  @apply text-2xl md:text-3xl;
}

h2 {
  @apply text-xl md:text-2xl;
}

h3 {
  @apply text-lg md:text-xl;
}

code {
  @apply bg-[--color-bg-secondary] text-[--color-text-secondary] px-1 py-0.5 rounded text-sm;
}

.dark code {
  background-color: var(--color-bg-secondary-dark);
  color: var(--color-text-secondary-dark);
}

pre {
  @apply bg-[--color-bg-secondary] p-4 rounded-lg overflow-x-auto border border-[--color-border];
}

.dark pre {
  background-color: var(--color-bg-secondary-dark);
  border-color: var(--color-border-dark);
}

pre code {
  @apply bg-transparent p-0;
}

table {
  @apply w-full border-collapse;
}

th,
td {
  @apply border border-[--color-border] px-4 py-2 text-left;
}

.dark th,
.dark td {
  border-color: var(--color-border-dark);
}

th {
  @apply bg-[--color-bg-secondary] font-semibold;
}

.dark th {
  background-color: var(--color-bg-secondary-dark);
}

blockquote {
  @apply border-l-4 border-[--color-primary] pl-4 italic text-[--color-text-secondary];
}

.dark blockquote {
  border-color: var(--color-primary-dark);
  color: var(--color-text-secondary-dark);
}

hr {
  @apply border-t border-[--color-border] my-6;
}

.dark hr {
  border-color: var(--color-border-dark);
}

.card {
  @apply bg-[--color-bg-secondary] border border-[--color-border] rounded-lg p-6;
}

.dark .card {
  background-color: var(--color-bg-secondary-dark);
  border-color: var(--color-border-dark);
}

.btn {
  @apply px-4 py-2 rounded-md font-medium transition-colors;
}

.btn-primary {
  @apply bg-[--color-primary] text-white hover:bg-[--color-primary-dark];
}

.btn-secondary {
  @apply bg-[--color-bg-secondary] text-[--color-text-primary] border border-[--color-border] hover:bg-[--color-bg-tertiary];
}

.dark .btn-secondary {
  background-color: var(--color-bg-secondary-dark);
  color: var(--color-text-primary-dark);
  border-color: var(--color-border-dark);
}

.dark .btn-secondary:hover {
  background-color: var(--color-bg-tertiary-dark);
}

input,
textarea {
  @apply bg-[--color-bg-primary] border border-[--color-border] rounded-md px-3 py-2 text-[--color-text-primary] placeholder:text-[--color-text-placeholder];
}

.dark input,
.dark textarea {
  background-color: var(--color-bg-primary-dark);
  border-color: var(--color-border-dark);
  color: var(--color-text-primary-dark);
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: var(--color-text-placeholder-dark);
}

.tag {
  @apply inline-block px-2 py-1 text-xs rounded-md bg-[--color-bg-secondary] text-[--color-text-secondary];
}

.dark .tag {
  background-color: var(--color-bg-secondary-dark);
  color: var(--color-text-secondary-dark);
}

.nav-link {
  @apply px-4 py-2 rounded-md transition-all duration-300;
}

.nav-link-active {
  color: var(--color-text-primary);
  background-color: var(--color-bg-secondary);
  font-weight: 600;
}

.nav-link-inactive {
  color: var(--color-text-secondary);
}

.nav-link-inactive:hover {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

.dark .nav-link-active {
  color: var(--color-text-primary-dark);
  background-color: var(--color-bg-secondary-dark);
}

.dark .nav-link-inactive {
  color: var(--color-text-secondary-dark);
}

.dark .nav-link-inactive:hover {
  background-color: var(--color-bg-tertiary-dark);
  color: var(--color-text-primary-dark);
}

.text-success {
  color: var(--color-success);
}

.text-warning {
  color: var(--color-warning);
}

.text-error {
  color: var(--color-error);
}

.bg-success {
  background-color: var(--color-success);
}

.bg-warning {
  background-color: var(--color-warning);
}

.bg-error {
  background-color: var(--color-error);
}

.dark .text-success {
  color: var(--color-success-dark);
}

.dark .text-warning {
  color: var(--color-warning-dark);
}

.dark .text-error {
  color: var(--color-error-dark);
}

.dark .bg-success {
  background-color: var(--color-success-dark);
}

.dark .bg-warning {
  background-color: var(--color-warning-dark);
}

.dark .bg-error {
  background-color: var(--color-error-dark);
}
